{
    "dashboard": {
      "title": "Patient Management System - Overview",
      "tags": ["patient-management", "kubernetes", "devops"],
      "timezone": "browser",
      "panels": [
        {
          "id": 1,
          "title": "Request Rate (req/s)",
          "type": "graph",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
          "targets": [
            {
              "expr": "sum(rate(http_requests_total{job=\"patient-management\"}[5m]))",
              "legendFormat": "Total Requests"
            }
          ]
        },
        {
          "id": 2,
          "title": "Error Rate (%)",
          "type": "graph",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
          "targets": [
            {
              "expr": "(sum(rate(http_requests_total{job=\"patient-management\",status=~\"5..\"}[5m])) / sum(rate(http_requests_total{job=\"patient-management\"}[5m]))) * 100",
              "legendFormat": "Error Rate"
            }
          ]
        },
        {
          "id": 3,
          "title": "Response Time (P50, P95, P99)",
          "type": "graph",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
          "targets": [
            {
              "expr": "histogram_quantile(0.50, rate(http_request_duration_seconds_bucket{job=\"patient-management\"}[5m]))",
              "legendFormat": "P50"
            },
            {
              "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket{job=\"patient-management\"}[5m]))",
              "legendFormat": "P95"
            },
            {
              "expr": "histogram_quantile(0.99, rate(http_request_duration_seconds_bucket{job=\"patient-management\"}[5m]))",
              "legendFormat": "P99"
            }
          ]
        },
        {
          "id": 4,
          "title": "CPU Usage (%)",
          "type": "graph",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
          "targets": [
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{pod=~\"patient-management.*\"}[5m])) by (pod) * 100",
              "legendFormat": "{{pod}}"
            }
          ]
        },
        {
          "id": 5,
          "title": "Memory Usage (MB)",
          "type": "graph",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16},
          "targets": [
            {
              "expr": "sum(container_memory_usage_bytes{pod=~\"patient-management.*\"}) by (pod) / 1024 / 1024",
              "legendFormat": "{{pod}}"
            }
          ]
        },
        {
          "id": 6,
          "title": "Active Pods",
          "type": "stat",
          "gridPos": {"h": 4, "w": 6, "x": 12, "y": 16},
          "targets": [
            {
              "expr": "count(up{job=\"patient-management\"} == 1)",
              "legendFormat": "Active Pods"
            }
          ]
        },
        {
          "id": 7,
          "title": "Availability (%)",
          "type": "stat",
          "gridPos": {"h": 4, "w": 6, "x": 18, "y": 16},
          "targets": [
            {
              "expr": "(sum(rate(http_requests_total{job=\"patient-management\",status!~\"5..\"}[5m])) / sum(rate(http_requests_total{job=\"patient-management\"}[5m]))) * 100",
              "legendFormat": "Availability"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {"value": 0, "color": "red"},
              {"value": 99.5, "color": "green"}
            ]
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 36,
      "version": 1
    }
  }